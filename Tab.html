<template name="tab">
  <h1>Menu</h1>
  {{#each drink_categories}}
    {{> drink_category}}
  {{/each}}
  <hr>
  {{#with my_tab}}
  	<h1>
      My Tab 
      {{#if tab_open}}
        (${{tab_total}})
      {{else}}
        (tab closed)
      {{/if}}
    </h1>
  {{/with}}
  {{#each ordered_drinks}}
  	{{> drink_from_tab}}
  {{/each}}
  <h1>Cancelled drinks</h1>
  {{#each cancelled_drinks}}
    {{> cancelled_drink}}
  {{/each}}
</template>

<template name="drink_category">
  <h4>{{name}}</h4>
  {{#each drinks_menu}}
    {{> drink_from_menu}}
  {{/each}}
</template>

<template name="drink_from_menu">
  <div>{{name}}: ${{price}}
  {{#if tab_open}}
    <input type="button" value="buy one" class="buy_drink"/>
  {{/if}}
  </div>
</template>

<template name="drink_from_tab">
  <div>
    {{name}}: ${{price}}
    {{#if drink_ready}}
      Ready!
    {{else}}
      <input type="button" value="cancel" class="cancel_drink"/>
    {{/if}}
  </div>
</template>

<template name="cancelled_drink">
  <div>{{name}}</div>
</template>